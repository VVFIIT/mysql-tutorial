# [番外篇]CHAR和VARCHAR

CHAR和VARCHAR类型相似，但它们被存储和检索的方式不同。它们的最大长度以及是否保留尾随空格也不同。

CHAR和VARCHAR类型的声明，其长度指示要存储的最大字符数。例如， CHAR(30)最多可容纳30个字符。

### 两者区别总结
```
CHAR类型在创建初始长度后(0~255)，存储的长度就是**固定**的。  
CHAR类型在存储值时，它们会用空格右填充到指定的长度。
当插入CHAR类型时，尾随的空格将全部删除。
当检索CHAR类型时，尾随的空格将全部删除，除非 PAD_CHAR_TO_FULL_LENGTH被启用。
```

```
VARCHAR类型在创建初始长度后(0~65535)，存储的长度就是**可变**的。  
VARCHAR类型在存储值时，存储的长度是数据实际长度+1或+2（实际长度小于255时+1，实际长度大于255时+2）。
当插入VARCHAR类型时，插入前都会截断超出字段长度的尾随空格。
```


下表说明了两者之间的区别， 将各种字符串值存储到 CHAR(4)和VARCHAR(4) 列中的结果。

插入值 | CHAR(4) | 存储空间 | VARCHAR(4) | 存储空间  |
------------ | ------------- | ------------ | ------------ | ------------ |
''	|	'&ensp;&ensp;&ensp;&ensp;'	|	4字节	|	''	|	1个字节
'ab'	|	'ab&ensp;&ensp;'	|	4字节	|	'ab'	|	3个字节
'ab&ensp;'	|	'ab&ensp;&ensp;'	|	4字节	|	'ab&ensp;'	|	4个字节
'abcd'	|	'abcd'	|	4字节	|	'abcd'	|	5字节
'abcdefgh'	|	'abcd'	|	4字节	|	'abcd'	|	5字节
